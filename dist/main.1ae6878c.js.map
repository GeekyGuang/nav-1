{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","weblist","logo","url","simplify","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","logoType","onbeforeunload","string","stringify","setItem","document","addEventListener","key","toLowerCase"],"mappings":"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","file":"main.1ae6878c.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $(\".siteList\")\r\nconst $lastLi = $siteList.find(\".lastLi\")\r\n\r\nconst x = localStorage.getItem(\"x\")  // 获取到的是字符串\r\nconst xObject = JSON.parse(x)  // 解析成对象\r\n\r\nconst weblist = xObject || [\r\n    {logo:\"Y\", url: \"https://www.yuque.com/\"},\r\n    {logo:\"E\", url: \"https://www.ebay.com/\"},\r\n    {logo:\"S\",  url: \"https://stackoverflow.com/\"}\r\n]\r\n\r\nconst simplify = (url) => {\r\n   return url.replace(\"https://\",\"\")\r\n     .replace(\"http://\",\"\")\r\n     .replace(\"www.\",\"\")\r\n     .replace(/\\/.*/,'')  // 删除/开头的内容\r\n}\r\n\r\nconst render = () => {\r\n    $siteList.find('li:not(.lastLi)').remove()  //清除现有li, .lastLi除外\r\n\r\n    // 遍历数组，重新渲染每个节点\r\n    weblist.forEach((node,index) => {\r\n        const $li = $(`<li>\r\n                <div class=\"site\">\r\n                    <div class=\"logo\">${node.logo[0]}</div>\r\n                    <div class=\"link\">${simplify(node.url)}</div>\r\n                    <div class=\"close\">\r\n                      <svg class=\"icon\" >\r\n                        <use xlink:href=\"#icon-delete\"></use>\r\n                      </svg>\r\n                    </div>\r\n                </div>\r\n        </li>`).insertBefore($lastLi)\r\n\r\n        $li.on('click',()=>{\r\n            window.open(node.url, \"_self\")  // 打开网址， _self当前窗口\r\n        })\r\n\r\n        $li.on('click', '.close', (e)=>{\r\n            e.stopPropagation()   // 阻止冒泡\r\n            weblist.splice(index,1)\r\n            render()\r\n        })\r\n    })\r\n}\r\n\r\nrender()\r\n\r\n$('.addButton')\r\n  .on('click', ()=>{\r\n    let url = window.prompt(\"请输入网址\")\r\n    \r\n    if(url.indexOf(\"http\")!==0){\r\n        url = \"https://\" + url\r\n    }\r\n    \r\n    weblist.push({logo:simplify(url)[0], logoType: \"text\", url:url})\r\n\r\n    render()\r\n})\r\n\r\nwindow.onbeforeunload = ()=>{\r\n    const string = JSON.stringify(weblist)  // 转为字符串\r\n    window.localStorage.setItem(\"x\", string)  // 2个参数，一个key, 一个value\r\n}\r\n\r\ndocument.addEventListener('keypress', (e)=>{\r\n    const {key} = e\r\n    for (let node of weblist){\r\n        if (node.logo.toLowerCase() === key) {\r\n            window.open(node.url, \"_self\")\r\n        }\r\n    }\r\n})\r\n\r\n"]}